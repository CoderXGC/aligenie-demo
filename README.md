![image.png](https://ucc.alicdn.com/pic/developer-ecology/e01352914fcf43ecaf8fd4f1d4447e62.png)
### ğŸ”¥  ä»‹ç»

æœ€ç»ˆæ•ˆæœå¯ä»¥è§‚çœ‹è§†é¢‘ï¼šhttps://h5.pipix.com/s/NTHB9gk/
### ğŸ’¥  é¡¹ç›®ç»“æ„

![image.png](https://ucc.alicdn.com/pic/developer-ecology/1c5696dd4aef487f9cf8685a87346bbf.png)
### ğŸ”¥  ç›¸å…³æŠ€æœ¯springboot

ä½¿ç”¨æ¡†æ¶springbootï¼Œå¿«é€Ÿæ­å»ºåç«¯æœåŠ¡ã€‚  
###ğŸ”¥  æ­å»ºæ•™ç¨‹
æ‰“å¼€å¤©çŒ«ç²¾çµæŠ€èƒ½å®˜ç½‘ï¼šhttps://iap.aligenie.com/
![image.png](https://ucc.alicdn.com/pic/developer-ecology/4d3b8977ac6d433ab26d00e3f1b338e2.png)
ç„¶åé€‰æ‹©ç§åŸŸæŠ€èƒ½ï¼š  
![image.png](https://ucc.alicdn.com/pic/developer-ecology/73fea72fda114d5b8ff723f22685727e.png)
è¯­éŸ³äº¤äº’æ¨¡å‹ï¼Œè™½ç„¶æˆ‘ä»¬æ— è°ƒç”¨è¯ï¼Œå› ä¸ºæ— è°ƒç”¨è¯ï¼Œéœ€è¦è·å–ä½ çš„è®¾å¤‡openidï¼Œåé¢ä¼šä»‹ç»åˆ°ã€‚  
![image.png](https://ucc.alicdn.com/pic/developer-ecology/3bf3bcf0778643bbb7cb72c8d88ef8a1.png)
ç‚¹å‡»åˆ›å»ºä¸€ä¸ªæ„å›¾ã€‚  
![image.png](https://ucc.alicdn.com/pic/developer-ecology/60c90f2732184c9c8c63725d3c365500.png)
![image.png](https://ucc.alicdn.com/pic/developer-ecology/967176c9065641f6baf05dea599a831a.png)
è¿™é‡Œä¸€å®šè¦è®¾ç½®é»˜è®¤æ„å›¾ã€‚ä¸€ä¼šè°ƒç”¨å°±å¯ä»¥è·å–åˆ°æˆ‘ä»¬æ— è°ƒç”¨è¯çš„ç›¸å…³æ•°æ®äº†ã€‚  
æœåŠ¡éƒ¨ç½²ã€‚  
![image.png](https://ucc.alicdn.com/pic/developer-ecology/1f60de1c3f074a82862e65b5b534145e.png)
![image.png](https://ucc.alicdn.com/pic/developer-ecology/693ccebca4434aa2b3bd917732d3ebcb.png)
å…¶å®è¿™é‡Œå°±æ˜¯éªŒè¯è¿™ä¸ªæœåŠ¡å™¨æ˜¯ä½ çš„ã€‚  
![image.png](https://ucc.alicdn.com/pic/developer-ecology/43993dab7fce4778a02ca0788ea2fef1.png)
ä¸‹è½½è®¤è¯æ•°æ®ã€‚

![image.png](https://ucc.alicdn.com/pic/developer-ecology/da69f25d9867432a94439e588ad862a3.png)
è¿™å°±æ˜¯æ·»åŠ å¥½äº†çš„ã€‚  
å¦‚æœè¦ä½¿ç”¨æ¨é€åŠŸèƒ½å¿…é¡»è¦ç”³è¯·è¿™ä¸ªæƒé™ã€‚  
![image.png](https://ucc.alicdn.com/pic/developer-ecology/657ea84a268244ff8e74ce981d858a34.png)
ä¸‹é¢å°±æ˜¯ç”³è¯·æ¨é€è¯­éŸ³æ’­æŠ¥çš„æ¨¡æ¿äº†ã€‚  
![image.png](https://ucc.alicdn.com/pic/developer-ecology/f01acb700f264b6698407ec0bd2ca0a9.png)
ç‚¹å‡»æ–°å»ºï¼Œå¯ä»¥æ ¹æ®ä¸ªäººéœ€è¦è¿›è¡Œç”³è¯·ã€‚  
![image.png](https://ucc.alicdn.com/pic/developer-ecology/453025e745134753af1e28f2e4703277.png)
![image.png](https://ucc.alicdn.com/pic/developer-ecology/ac27d7d5e22c42f19bf9b6deb9ede101.png)
ä¸‹é¢å°±æ˜¯æµ‹è¯•äº†ã€‚æˆ‘ä»¬å¼€å§‹æ­å»ºæœåŠ¡ç«¯ã€‚  
å…¶å®è¿™ä¸ªå°±å›åˆ°äº†æœ€åˆçš„å“ªä¸ªé—®é¢˜ï¼Œæˆ‘ä»¬æ˜¯æ— è°ƒç”¨è¯çš„ï¼Œæ€ä¹ˆè§¦å‘æœåŠ¡ç«¯çš„ä»£ç å‘¢ï¼Ÿå¦‚ä½•è·å–ä¸€äº›æˆ‘ä»¬éœ€è¦çš„ä¸œè¥¿å‘¢ï¼Ÿ  
![image.png](https://ucc.alicdn.com/pic/developer-ecology/28e1dce4056f4da4b0b665c74b0fb029.png)
æˆ‘ä»¬åœ¨ç¼–è¾‘ç•Œé¢ï¼Œè®¾ç½®ä¸€ä¸‹è°ƒç”¨è¯  
![image.png](https://ucc.alicdn.com/pic/developer-ecology/74c48598becb4dcba045cc819fd36319.png)
ç„¶åå†™å¥½ä»£ç ï¼Œç„¶åä¸Šä¼ æœåŠ¡å™¨ã€‚
```js
    @RequestMapping("/welcome")
    public ResultModel<TaskResult> taskResult(@RequestBody String json){
        // ResultModel<TaskResult> res = new ResultModel<>();
        log.info("json:{}",json);
        TaskQuery taskQuery =MetaFormat.parseToQuery(json);
        TaskResult taskResult = new TaskResult();
        // ä»è¯·æ±‚ä¸­è·å–æ„å›¾å‚æ•°ä»¥åŠå‚æ•°å€¼
        Map<String, String> paramMap = taskQuery.getSlotEntities().stream().collect(
                Collectors.toMap(slotItem -> slotItem.getIntentParameterName(),
                        slotItem -> slotItem.getOriginalValue()));
        //å¤„ç†åç§°ä¸º welcome çš„æ„å›¾
        if ("welcome".equals(taskQuery.getIntentName())) {
            taskResult.setReply("æ¬¢è¿ä½¿ç”¨è‡ªå®šä¹‰æŠ€èƒ½~");
            log.info("json:{}",json);
            //å¤„ç†åç§°ä¸º weather çš„æ„å›¾
        }else {
            taskResult.setReply("è¯·æ£€æŸ¥æ„å›¾åç§°æ˜¯å¦æ­£ç¡®ï¼Œæˆ–è€…æ–°å¢çš„æ„å›¾æ²¡æœ‰åœ¨ä»£ç é‡Œæ·»åŠ å¯¹åº”çš„å¤„ç†åˆ†æ”¯ã€‚");
        }
        return reply(taskResult);
    }
```  
å› ä¸ºæˆ‘ä»¬éœ€è¦ç›¸å…³idï¼Œæˆ‘ä»¬éœ€è¦åœ¨æµ‹è¯•ç•Œé¢ï¼Œè¿›è¡ŒçœŸæœºæµ‹è¯•  
![image.png](https://ucc.alicdn.com/pic/developer-ecology/0fbaf4781c864eaea7e9865e85fb742c.png)
å®é™…è°ƒç”¨ï¼Œå¯ä»¥çœ‹åˆ°æˆ‘ä»¬éœ€è¦çš„æ•°æ®ï¼Œæˆ‘ä»¬å¯ä»¥ç”¨åˆ°ã€‚  
![image.png](https://ucc.alicdn.com/pic/developer-ecology/274ecd65615649c8998fb7f389773207.png)
### ğŸ”¥å®ç°è‡ªåŠ¨æ¨é€

æ‰“å¼€è‡ªåŠ¨æ¨é€:  
https://open-api.aligenie.com/?version=iap_1.0&apiName=PushNotifications  
![image.png](https://ucc.alicdn.com/pic/developer-ecology/5698bdb0876a4a45be4b4612cef8ec9b.png)
å¯ä»¥çœ‹åˆ°æˆ‘ä»¬éœ€è¦è¿™äº›å‚æ•°ï¼Œæœ€é‡è¦çš„æ˜¯åˆšæ‰æˆ‘ä»¬åœ¨æœåŠ¡ç«¯è·å–çš„ã€‚  
DEVICE_UNION_ID ï¼šè®¾å¤‡unionId  
DEVICE_OPEN_ID ï¼šè®¾å¤‡openId  
USER_UNION_ID ï¼šç”¨æˆ·unionId  
USER_OPEN_ID ï¼šç”¨æˆ·openId  
è¿™äº›å€¼ã€‚æˆ‘ä»¬éœ€è¦ç”¨åˆ°çš„ã€‚å‰©ä¸‹çš„è·Ÿç€å®˜æ–¹æ•™ç¨‹å°±å¯ä»¥å®Œæˆäº†ã€‚  
## äº¤æµ
![Image text](https://i.loli.net/2021/11/29/Rm1SX7JWPBEDsat.png)
### æåŠ©  
![Image text](https://www.ylesb.com/wp-content/uploads/2022/04/1651062390-642.png)
